# 计组面试

#### 翻译并执行程序

`.c` --> 编译 --> `.s` --> 汇编 --> `.s`--> 链接 --> `.out` -> 加载并执行

`.c` c源文件，`.s`汇编文件，`.o`目标文件，`.a`静态链接库，`.so`动态链接库，`.out`可执行文件

动态链接库：程序执行时才链接

#### 冯诺伊曼机

- 计算机由运算器、存储器、控制器、输入设备、输出设备组成
- 指令和数据均由二进制表示，以等同地位存于存储器内，按地址访问
- 指令用二进制表示，由操作码和地址码组成，<u>在存储器中顺序存储</u>（程序存储）
- 以运算器为中心

### Cache

#### 主存块替换算法

- 先进先出
- 最近最少使用
- 最不经常使用

#### Cache写命中

- 全写法
- 写回法
  只修改Cache，块被换出时修改

#### 写不明中

- 写分配法
  把块调入Cache再写，通常与写回法配合
- 非写分配法
  只写入主存

### MIPS

#### 寻址模式

- 立即数寻址： 立即数当作操作数
- 寄存器寻址： 操作数为寄存器号
- 基址寻址：     寄存器+形式地址（lw/sw）
- PC相对寻址：PC+形式地址（bne条件分支）
- 伪直接寻址： 形式地址（左移两位后）与PC高四位相连（J直接分支）

#### 流水线冒险

1. 结构冒险：硬件不支持多条指令在同一周期执行
2. 数据冒险：一条指令的数据依赖于上一条指令的结果
   旁路：从寄存器内部提前提取数据
   阻塞：取数指令在MEM级后才可取出数据，需阻塞一个周期再旁路
3. 控制冒险：指令执行依赖于决策
   阻塞：直接阻塞流水线
   分支预测：预测分支结果并立即沿预测方向执行（预测不正确时只相当于插入了气泡）
   动态分支预测：保存每次分支的历史记录，用这个记录来预测
   延迟分支：把不受分支影响的指令放到分支后延迟决定分支

#### RISC和CISC

- CISC指令庞大，长度不固定，寻址方式多；
  RISC指令少，长度固定，寻址方式少
- CISC各种指令执行时间相差很大，大多数指令需多个时钟周期完成；
  RISC指令大多数可在一个时钟周期内完成，一定采用流水线设计
- CISC可访存的指令不受限制；
  RISC可访存的指令只有`取数/存数`指令，且RISC寄存器数量较多
- CISC大多数采用微程序设计；RISC采用硬布线控制为主
- CISC难以优化编译，RISC有利于编译程序优化代码

